#+STARTUP: show2levels content

* Install
** Dependencies
*** Brew
#+begin_src bash :async :session *install* :results silent
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
#+end_src

#+begin_src bash :async :session *install* :results silent
# Follow instructions before running update
brew update
#+end_src

#+begin_src bash :async :session *install* :results silent
brew install -v --quiet \
     asdf \
     autoconf \
     btop \
     direnv \
     fd  \
     fish \
     fzf  \
     gcc \
     git  \
     gnupg  \
     jq \
     libgccjit \
     lazygit \
     ripgrep \
     tlrc \
     tree-sitter \
     zoxide
#+end_src

Ghostty
#+begin_src bash :async :session *install* :results silent
brew install --cask ghostty
#+end_src

Fonts
#+begin_src bash :async :session *install* :results silent
brew install --cask font-jetbrains-mono-nerd-font
#+end_src

Emacs
#+begin_src bash :async :session *install*
brew tap d12frosted/emacs-plus
brew install emacs-plus@31
#+end_src

*** Rust / Cargo Dependencies
#+begin_src bash :async :session *install* :results silent
curl https://sh.rustup.rs -sSf | sh
#+end_src

#+begin_src bash :async :session *install* :results silent
cargo install emacs-lsp-booster
#+end_src

*** ASDF
**** Nodejs / NPM
#+begin_src bash :async :session *install* :results silent
asdf plugin add nodejs https://github.com/asdf-vm/asdf-nodejs.git
asdf install nodejs latest
asdf set -u nodejs latest
#+end_src
**** Python 3.12 / Aider
#+begin_src bash :async :session *install* :results silent
asdf plugin add python https://github.com/asdf-community/asdf-python.git
# asdf list all python | grep 3.12

asdf install python 3.12.12
asdf set -u python 3.12.12

python -m pip install aider-install
aider-install 
#+end_src

If aider-install didn't work.
#+begin_src bash :async :session *install* :results silent
python -m pip install uv
uv tool install --force --python python3.12 --with pip aider-chat@latest --index-strategy unsafe-best-match
#+end_src

*** OhMyZsh
#+begin_src bash
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
#+end_src

** Configs
*** Fish
#+begin_src bash :var current_dirpath=(file-name-directory (or buffer-file-name default-directory)) :results silent
mkdir -p ~/.config/fish/conf.d
touch ~/.config/fish/config.fish
ln -s $current_dirpath/config/defaults.fish ~/.config/fish/conf.d/defaults.fish
#+end_src

Set default shell to fish.
#+begin_src text :results silent
command -v fish | sudo tee -a /etc/shells
chsh -s "$(command -v fish)"
#+end_src

*** Zsh
#+begin_src bash :var current_dirpath=(file-name-directory (or buffer-file-name default-directory)) :results silent
ln -s $current_dirpath/config/zshrc ~/.zshrc
#+end_src

#+begin_src bash :results silent
cat <<EOF >> ~/.zprofile
eval "$(ssh-agent -s)"
EOF
#+end_src

*** Git
#+begin_src bash :var current_dirpath=(file-name-directory (or buffer-file-name default-directory)) :results silent
mkdir -p ~/.config/git
ln -s $current_dirpath/config/gitconfig ~/.config/git/config
ln -s $current_dirpath/config/gitignore ~/.config/git/ignore
#+end_src

#+begin_src bash
touch ~/.gitconfig-company
cat <<EOF >> ~/.gitconfig
[includeIf "gitdir:~/company/"]
	path = ~/.gitconfig-company
EOF
#+end_src

*** Ghostty
#+begin_src bash :var current_dirpath=(file-name-directory (or buffer-file-name default-directory)) :results silent
mkdir -p ~/.config/ghostty
ln -s $current_dirpath/config/ghosttyconfig ~/.config/ghostty/config
#+end_src

*** Emacs
#+begin_src bash :var current_dirpath=(file-name-directory (or buffer-file-name default-directory)) :results silent
export current_dirpath=${current_dirpath:=$(pwd)}
mkdir -p ~/.config/emacs
ln -s $current_dirpath/config/emacs/early-init.el ~/.config/emacs/early-init.el
ln -s $current_dirpath/config/emacs/init.el ~/.config/emacs/init.el
ln -s $current_dirpath/config/emacs/packages ~/.config/emacs/packages
ln -s $current_dirpath/config/emacs/snippets ~/.config/emacs/snippets
#+end_src

**** Example Custom.el
#+begin_src elisp
;; -*- lexical-binding: t; -*-

(custom-set-variables
 ;; custom-set-variables was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 )

(custom-set-faces
 ;; custom-set-faces was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 '(default ((t ( :family "JetBrainsMonoNL Nerd Font Mono"
                 :foundry "nil"
                 :weight light
                 :slant normal
                 :width normal
                 :height 130)))))

(if (display-graphic-p)
    (load-theme 'darktooth :no-confirm-loading)
  (progn
    (load-theme 'creamsody :no-confirm-loading)
    (set-face-background 'default "unspecified-bg")))

(setq gptel-model 'claude-sonnet-4)
(setq gptel-backend (gptel-make-gh-copilot "Copilot"))

(add-hook 'prog-mode-hook #'copilot-mode)
(add-hook 'prog-mode-hook #'display-line-numbers-mode)
(add-hook 'prog-mode-hook #'indent-bars-mode)

(add-to-list 'exec-path "~/.local/elixir-ls")
#+end_src

**** Example ORG
File Keyword Configuration
#+begin_src fundamental
,#+STARTUP: show2levels logdone hidestars logdrawer hideblocks hidedrawers
,#+STARTUP: nohideblocks nohidedrawers showstars nologdone nologdrawer
,#+STARTUP: lognotedone

,#+STARTUP: fold              (or overview, this is equivalent)
,#+STARTUP: nofold            (or showall, this is equivalent)
,#+STARTUP: content
,#+STARTUP: show<n>levels (<n> = 2..5)
,#+STARTUP: showeverything

,#+STARTUP: indent
,#+STARTUP: noindent

,#+CATEGORY: tasks

,#+TAGS: doc(d) epic(e) initiative(i) story(s)

,#+TODO: TODO(t!) ACTIVE(a!) | DONE(d!)
,#+TODO: DESIGN(s!) CODE(c!) REVIEW(r!) | DONE(d!)
,#+TODO: | CANCELED(k@)
#+end_src

Faces for TODO Keywords
#+begin_src emacs-lisp
(setq org-todo-keyword-faces 
      '(("TODO" . "steel blue")
        ("ACTIVE" . "light goldenrod")
        ("DESIGN" . "goldenrod")
        ("CODE" . "goldenrod")
        ("REVIEW" . "goldenrod")
        ("DONE" . "dim gray")
        ("BACKLOG" . "dim gray")
        ("CANCELED" . "dim gray")))
#+end_src

**** Example Eglot
=.dir-locals.el=
#+begin_src lisp-data
((nil . ((eglot-workspace-configuration
          . ( :pylsp ( :plugins ( :pycodestyle (:enabled :json-false)
                                  :mccabe (:enabled :json-false)
                                  :pyflakes (:enabled :json-false)
                                  :flake8 (:enabled t))
                       :configurationSources ["flake8"]))))))
#+end_src

*** Sqlite
#+begin_src bash :var current_dirpath=(file-name-directory (or buffer-file-name default-directory)) :results silent
ln -s $current_dirpath/config/sqliterc ~/.sqliterc
#+end_src

*** Tmux
#+begin_src bash :var current_dirpath=(file-name-directory (or buffer-file-name default-directory)) :results silent
mkdir -p ~/.config/tmux
ln -s $current_dirpath/config/tmuxconfig ~/.config/tmux/config
#+end_src
